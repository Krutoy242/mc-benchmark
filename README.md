<h1 align="center">MC Benchmark</h1>
<p>
  <a href="#" target="_blank">
    <img alt="License: MIT" src="https://img.shields.io/badge/License-MIT-yellow.svg" />
  </a>
</p>

> Build charts about load time of 1.12 Minecraft modpack.

**Modded Minecraft modpack** could takes ~10 minutes to load. Its could be useful to know, what mod or load step takes so long.  
This script parsing `debug.log` file, generated by Forge, and using https://quickchart.io/ API to generate chart images.

<p align="center"><img src="https://i.imgur.com/uZj6wS1.png"/></p>

<p align="center"><img src="https://i.imgur.com/PolHIWi.png"/></p>


## Usage

1. Install latest **NodeJS** for [Windows](https://nodejs.org/en/download/current/) or [Unix](https://nodejs.org/en/download/package-manager/)
   
2. Open console, navigate to your Minecraft directory (one with the `logs/` directory or `crafttweaker.log` file)
   ```sh
   > cd C:/Instances/MyModpack
   ```

3. Run:
    ```sh
    > npx mc-benchmark
    ```
4. File `benchmark.md` would be generated in current working directory.

Minecraft must be launched at least once in advance to generate file `logs/debug.log`.

Some lunchers disable the creation of a `logs/debug.log` file. Change the settings of your luncher in such a case. Example for [CurseForge Luncher](https://i.imgur.com/u3WD1G4.png).

`crafttweaker.log` file is not necessary.

### Options

Option | Type | Description | Default
---|---|---|---
`-i`, `--input`    | `string`  | Debug.log path                                   | `"logs/debug.log"`
`-c`, `--ctlog`    | `string`  | crafttweaker.log path                            | `"crafttweaker.log"`
`-o`, `--output`   | `string`  | Output file path                                 | `"benchmark.md"`
`-n`, `--nospaces` | `boolean` | Replace all space characters "\\s" in image code | `false`
`-d`, `--detailed` | `number`  | Count of detailed mods in main pie chart         | `20`
`-p`, `--plugins`  | `number`  | Plugin count to show in 'JEI plugins' section    | `15`
`-m`, `--modpack`  | `string`  | Modpack name in header                           | 
`--cwd`            | `string`  | Minecraft directory to OPEN files from           | `"./"`
`-u`, `--unlisted` | `boolean` | Output unlisted tooks in console                 | `false`

### Examples

- **[examples/benchmark.md](examples/benchmark.md)** - Default output without options.  
  Useful for version control, because all data that would be changed on new `mc-benchmark` run would be changed in separate lines.
  On Github you will see missed images ![](https://i.imgur.com/DLaTFOZ.png), because GitHub cant parse spaces.  
- **[examples/benchmark--nospaces.md](examples/benchmark--nospaces.md)** - Replace all space characters `\s+` with `%20`. Messed up formatting, but could be seen from GitHub

## Author

* https://github.com/Krutoy242